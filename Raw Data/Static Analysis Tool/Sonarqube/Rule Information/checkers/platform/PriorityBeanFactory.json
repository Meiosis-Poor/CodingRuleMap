{
  "name": "PriorityBeanFactory",
  "language": "java",
  "description": null,
  "example": null,
  "cwe": null,
  "cwe-description": null,
  "checker-language": "java",
  "loc": 95,
  "branches": 17,
  "apis": 30,
  "test": [
    {
      "description": "give_priority_to_child_container",
      "expected-problems": null,
      "expected-linenumbers": 6,
      "code": "  public void give_priority_to_child_container() {\n\n    parentBeanFactory.registerBeanDefinition(\"A1\", new RootBeanDefinition(A1.class));\n\n\n\n    beanFactory.registerBeanDefinition(\"A2\", new RootBeanDefinition(A2.class));\n\n    beanFactory.registerBeanDefinition(\"B\", new RootBeanDefinition(B.class));\n\n\n\n    assertThat(beanFactory.getBean(B.class).dep.getClass()).isEqualTo(A2.class);\n\n  }"
    },
    {
      "description": "follow_priority_annotations",
      "expected-problems": null,
      "expected-linenumbers": 7,
      "code": "  public void follow_priority_annotations() {\n\n    parentBeanFactory.registerBeanDefinition(\"A3\", new RootBeanDefinition(A3.class));\n\n\n\n    beanFactory.registerBeanDefinition(\"A1\", new RootBeanDefinition(A1.class));\n\n    beanFactory.registerBeanDefinition(\"A2\", new RootBeanDefinition(A2.class));\n\n    beanFactory.registerBeanDefinition(\"B\", new RootBeanDefinition(B.class));\n\n\n\n    assertThat(beanFactory.getBean(B.class).dep.getClass()).isEqualTo(A3.class);\n\n  }"
    },
    {
      "description": "throw_NoUniqueBeanDefinitionException_if_cant_find_single_bean_with_higher_priority",
      "expected-problems": null,
      "expected-linenumbers": 7,
      "code": "  public void throw_NoUniqueBeanDefinitionException_if_cant_find_single_bean_with_higher_priority() {\n\n    beanFactory.registerBeanDefinition(\"A1\", new RootBeanDefinition(A1.class));\n\n    beanFactory.registerBeanDefinition(\"A2\", new RootBeanDefinition(A2.class));\n\n    beanFactory.registerBeanDefinition(\"B\", new RootBeanDefinition(B.class));\n\n\n\n    assertThatThrownBy(() -> beanFactory.getBean(B.class))\n\n      .hasRootCauseInstanceOf(NoUniqueBeanDefinitionException.class);\n\n  }"
    }
  ]
}