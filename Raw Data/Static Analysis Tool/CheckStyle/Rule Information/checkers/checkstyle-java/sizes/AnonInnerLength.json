{
  "name": "AnonInnerLength",
  "language": "java",
  "description": "<div>\n Checks for long anonymous inner classes.\n </div>\n\n <p>\n Rationale: If an anonymous inner class becomes very long\n it is hard to understand and to see the flow of the method\n where the class is defined. Therefore, long anonymous inner\n classes should usually be refactored into a named inner class.\n See also Bloch, Effective Java, p. 93.\n </p>",
  "example": null,
  "cwe": null,
  "cwe-description": null,
  "checker-language": "java",
  "loc": 39,
  "branches": 2,
  "apis": 9,
  "test": [
    {
      "description": "Auto test from InputAnonInnerLength.java",
      "expected-problems": 1,
      "expected-linenumbers": [
        48
      ],
      "code": "package com.puppycrawl.tools.checkstyle.checks.sizes.anoninnerlength;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseAdapter;\nimport javax.swing.JButton;\npublic class InputAnonInnerLength\n{\n    private JButton mButton = new JButton();\n    private class MyInner\n    {\n        private MyInner(int[] anArray)\n        {\n        }\n    }\n    private MyInner myInner = new MyInner(new int[]{\n            1,\n            2,\n            3,\n            4,\n            5,\n            6,\n            7,\n            }\n    );\n    private Runnable mRunnable1 = new Runnable() { \n        public void run() \n        {\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n        }\n    };\n    private Runnable mRunnable2 = new Runnable() {\n        public void run() \n        {\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n        }\n    };\n    InputAnonInnerLength()\n    {\n        mButton.addMouseListener( new MouseAdapter()\n            {\n                public void mouseClicked( MouseEvent aEv )\n                {\n                    System.identityHashCode(\"click\");\n                }\n            } );\n    }\n    public void addInputAnonInner()\n    {\n        mButton.addMouseListener( new MouseAdapter()\n            {\n                public void mouseClicked( MouseEvent aEv )\n                {\n                    System.identityHashCode(\"click\");\n                }\n            } );\n    }\n}"
    },
    {
      "description": "Auto test from InputAnonInnerLength2.java",
      "expected-problems": 2,
      "expected-linenumbers": [
        49,
        74
      ],
      "code": "package com.puppycrawl.tools.checkstyle.checks.sizes.anoninnerlength;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport javax.swing.JButton;\npublic class InputAnonInnerLength2\n{\n    private JButton mButton = new JButton();\n    private class MyInner\n    {\n        private MyInner(int[] anArray)\n        {\n        }\n    }\n    private MyInner myInner = new MyInner(new int[]{\n            1,\n            2,\n            3,\n            4,\n            5,\n            6,\n            7,\n            }\n    );\n    private Runnable mRunnable1 = new Runnable() { \n        public void run() \n        {\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n        }\n    };\n    private Runnable mRunnable2 = new Runnable() { \n        public void run() \n        {\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n            System.identityHashCode(\"running\");\n        }\n    };\n    InputAnonInnerLength2()\n    {\n        mButton.addMouseListener( new MouseAdapter()\n            {\n                public void mouseClicked( MouseEvent aEv )\n                {\n                    System.identityHashCode(\"click\");\n                }\n            } );\n    }\n    public void addInputAnonInner()\n    {\n        mButton.addMouseListener( new MouseAdapter()\n            {\n                public void mouseClicked( MouseEvent aEv )\n                {\n                    System.identityHashCode(\"click\");\n                }\n            } );\n    }\n}"
    }
  ]
}