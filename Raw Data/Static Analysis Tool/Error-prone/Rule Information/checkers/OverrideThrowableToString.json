{
  "name": "OverrideThrowableToString",
  "language": "java",
  "description": "To return a custom message with a Throwable class, one should override getMessage() instead of toString().",
  "example": null,
  "cwe": null,
  "cwe-description": null,
  "checker-language": "java",
  "loc": 58,
  "branches": 4,
  "apis": 1,
  "test": [
    {
      "description": "positiveCases",
      "expected-problems": null,
      "expected-linenumbers": [
        33
      ],
      "code": "package com.google.errorprone.bugpatterns.testdata;\n\n            /**\n             * @author mariasam@google.com (Maria Sam)\n             */\n            class OverrideThrowableToStringPositiveCases {\n\n              class BasicTest extends Throwable {\n\n                @Override\n                // BUG: Diagnostic contains: override\n                public String toString() {\n                  return \"\";\n                }\n              }\n\n              class MultipleMethods extends Throwable {\n\n                public MultipleMethods() {\n                  ;\n                }\n\n                @Override\n                // BUG: Diagnostic contains: override\n                public String toString() {\n                  return \"\";\n                }\n              }\n\n              class NoOverride extends Throwable {\n\n                // BUG: Diagnostic contains: override\n                public String toString() {\n                  return \"\";\n                }\n              }\n            }\\"
    },
    {
      "description": "negativeCases",
      "expected-problems": null,
      "expected-linenumbers": [
        80
      ],
      "code": "package com.google.errorprone.bugpatterns.testdata;\n\n            /**\n             * @author mariasam@google.com (Maria Sam)\n             */\n            public class OverrideThrowableToStringNegativeCases {\n\n              class BasicTest extends Throwable {}\n\n              class OtherToString {\n                public String toString() {\n                  return \"\";\n                }\n              }\n\n              class NoToString extends Throwable {\n                public void test() {\n                  System.out.println(\"test\");\n                }\n              }\n\n              class GetMessage extends Throwable {\n                public String getMessage() {\n                  return \"\";\n                }\n              }\n\n              class OverridesBoth extends Throwable {\n                public String toString() {\n                  return \"\";\n                }\n\n                public String getMessage() {\n                  return \"\";\n                }\n              }\n            }\\"
    },
    {
      "description": "fixes",
      "expected-problems": null,
      "expected-linenumbers": [
        127
      ],
      "code": "package com.google.errorprone.bugpatterns.testdata;\n\n            /**\n             * @author mariasam@google.com (Maria Sam)\n             */\n            class OverrideThrowableToStringPositiveCases {\n\n              class BasicTest extends Throwable {\n\n                @Override\n                // BUG: Diagnostic contains: override\n                public String toString() {\n                  return \"\";\n                }\n              }\n\n              class MultipleMethods extends Throwable {\n\n                public MultipleMethods() {\n                  ;\n                }\n\n                @Override\n                // BUG: Diagnostic contains: override\n                public String toString() {\n                  return \"\";\n                }\n              }\n\n              class NoOverride extends Throwable {\n\n                // BUG: Diagnostic contains: override\n                public String toString() {\n                  return \"\";\n                }\n              }\n            }\\\n            \n\n            package com.google.errorprone.bugpatterns.testdata;\n\n            /**\n             * @author mariasam@google.com (Maria Sam)\n             */\n            class OverrideThrowableToStringPositiveCases {\n\n              // BUG: Diagnostic contains: override\n              class BasicTest extends Throwable {\n\n                @Override\n                public String getMessage() {\n                  return \"\";\n                }\n              }\n\n              class MultipleMethods extends Throwable {\n\n                public MultipleMethods() {\n                  ;\n                }\n\n                @Override\n                public String getMessage() {\n                  return \"\";\n                }\n              }\n\n              class NoOverride extends Throwable {\n\n                public String getMessage() {\n                  return \"\";\n                }\n              }\n            }\\"
    },
    {
      "description": "suppressionOnMethod",
      "expected-problems": null,
      "expected-linenumbers": [
        213
      ],
      "code": "class Test extends Throwable {\n\n              @SuppressWarnings(\"OverrideThrowableToString\")\n              @Override\n              public String toString() {\n                return \"\";\n              }\n            }\\"
    }
  ]
}