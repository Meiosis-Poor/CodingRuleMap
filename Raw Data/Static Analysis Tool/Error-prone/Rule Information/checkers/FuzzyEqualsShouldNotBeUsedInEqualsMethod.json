{
  "name": "FuzzyEqualsShouldNotBeUsedInEqualsMethod",
  "language": "java",
  "description": "DoubleMath.fuzzyEquals should never be used in an Object.equals() method",
  "example": null,
  "cwe": null,
  "cwe-description": null,
  "checker-language": "java",
  "loc": 47,
  "branches": 2,
  "apis": 1,
  "test": [
    {
      "description": "positiveCase",
      "expected-problems": null,
      "expected-linenumbers": [
        32
      ],
      "code": "package com.google.errorprone.bugpatterns.testdata;\n\n            import com.google.common.math.DoubleMath;\n\n            /**\n             * @author sulku@google.com (Marsela Sulku)\n             */\n            public class FuzzyEqualsShouldNotBeUsedInEqualsMethodPositiveCases {\n\n              public boolean equals(Object o) {\n                // BUG: Diagnostic contains: DoubleMath.fuzzyEquals should never\n                DoubleMath.fuzzyEquals(0.2, 9.3, 2.0);\n                return true;\n              }\n\n              private class TestClass {\n\n                public boolean equals(Object other) {\n                  double x = 0, y = 0, z = 0;\n                  // BUG: Diagnostic contains: DoubleMath.fuzzyEquals should never\n                  return DoubleMath.fuzzyEquals(x, y, z);\n                }\n              }\n            }\\"
    },
    {
      "description": "negativeCase",
      "expected-problems": null,
      "expected-linenumbers": [
        66
      ],
      "code": "package com.google.errorprone.bugpatterns.testdata;\n\n            import com.google.common.math.DoubleMath;\n\n            /**\n             * @author sulku@google.com (Marsela Sulku)\n             */\n            public class FuzzyEqualsShouldNotBeUsedInEqualsMethodNegativeCases {\n              public boolean equals() {\n                return true;\n              }\n\n              private static class TestClass {\n                public void test() {\n                  boolean t = DoubleMath.fuzzyEquals(0, 2, 0.3);\n                }\n\n                public boolean equals(Object other) {\n                  return true;\n                }\n\n                public boolean equals(Object other, double a) {\n                  return DoubleMath.fuzzyEquals(0, 1, 0.2);\n                }\n              }\n            }\\"
    }
  ]
}