{
  "name": "BadShiftAmount",
  "language": "java",
  "description": "Shift by an amount that is out of range",
  "example": null,
  "cwe": null,
  "cwe-description": null,
  "checker-language": "java",
  "loc": 101,
  "branches": 10,
  "apis": 1,
  "test": [
    {
      "description": "positiveCase",
      "expected-problems": null,
      "expected-linenumbers": [
        33
      ],
      "code": "package com.google.errorprone.bugpatterns.testdata;\n\n            /**\n             * @author Bill Pugh (bill.pugh@gmail.com)\n             */\n            public class BadShiftAmountPositiveCases {\n\n              public void foo() {\n                int x = 0;\n                long result = 0;\n\n                // BUG: Diagnostic contains: (long) x >> 32\n                result += x >> 32;\n                // BUG: Diagnostic contains: (long) x << 32\n                result += x << 32;\n                // BUG: Diagnostic contains: (long) x >>> 32\n                result += x >>> 32;\n                // BUG: Diagnostic contains: (long) x >> 40\n                result += x >> 40;\n                // BUG: Diagnostic contains: (long) (x & 255) >> 40\n                result += (x & 255) >> 40;\n\n                // BUG: Diagnostic contains: 1L << 48\n                result += 1 << 48;\n\n                // BUG: Diagnostic contains: x >> 4\n                result += x >> 100;\n                // BUG: Diagnostic contains: x >> 31\n                result += x >> -1;\n\n                byte b = 0;\n                char c = 'a';\n\n                // BUG: Diagnostic contains: (long) b >> 32\n                result += b >> 32;\n                // BUG: Diagnostic contains: (long) b << 32\n                result += b << 32;\n                // BUG: Diagnostic contains: (long) c >> 32\n                result += c >> 32;\n                // BUG: Diagnostic contains: (long) c >>> 32\n                result += c >>> 32;\n              }\n            }\\"
    },
    {
      "description": "negativeCase",
      "expected-problems": null,
      "expected-linenumbers": [
        86
      ],
      "code": "package com.google.errorprone.bugpatterns.testdata;\n\n            /**\n             * @author Bill Pugh (bill.pugh@gmail.com)\n             */\n            public class BadShiftAmountNegativeCases {\n\n              public void foo() {\n                int x = 0;\n                long result = 0;\n\n                result += (long) x >> 3;\n                result += x << 3;\n                result += x >>> 3;\n                result += (long) (x & 0xff) >> 40;\n              }\n            }\\"
    }
  ]
}