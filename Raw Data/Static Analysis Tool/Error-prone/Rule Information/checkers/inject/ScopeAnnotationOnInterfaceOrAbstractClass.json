{
  "name": "ScopeAnnotationOnInterfaceOrAbstractClass",
  "language": "java",
  "description": "Scope annotation on an interface or abstract class is not allowed",
  "example": null,
  "cwe": null,
  "cwe-description": null,
  "checker-language": "java",
  "loc": 74,
  "branches": 2,
  "apis": 3,
  "test": [
    {
      "description": "positiveCase",
      "expected-problems": null,
      "expected-linenumbers": [
        34
      ],
      "code": "package com.google.errorprone.bugpatterns.inject.testdata;\n\nimport com.google.inject.Singleton;\n\n/**\n * Positive test cases in which a scoping annotation is put on an interface or anabstract class. The\n * suggested fix is to remove the scoping annotation.\n *\n * @author sgoldfeder@google.com (Steven Goldfeder)\n */\npublic class ScopeAnnotationOnInterfaceOrAbstractClassPositiveCases {\n\n  /** An abstract class that has scoping annotation. */\n  // BUG: Diagnostic contains: remove\n  @Singleton\n  public abstract class TestClass1 {}\n\n  /** An interface interface has scoping annotation. */\n  // BUG: Diagnostic contains: remove\n  @Singleton\n  public interface TestClass2 {}\n}\\"
    },
    {
      "description": "negativeCase",
      "expected-problems": null,
      "expected-linenumbers": [
        66
      ],
      "code": "package com.google.errorprone.bugpatterns.inject.testdata;\n\n            import com.google.inject.Singleton;\n            import dagger.Component;\n            import dagger.Subcomponent;\n            import javax.inject.Scope;\n\n            /**\n             * Negative test cases in which scoping annotations are used correctly.\n             *\n             * @author sgoldfeder@google.com (Steven Goldfeder)\n             */\n            public class ScopeAnnotationOnInterfaceOrAbstractClassNegativeCases {\n\n              /** A concrete class that has no scoping annotation. */\n              public class TestClass1 {}\n\n              /** An abstract class that has no scoping annotation. */\n              public abstract class TestClass2 {}\n\n              /** An interface that has no scoping annotation. */\n              public interface TestClass3 {}\n\n              /** A concrete class that has scoping annotation. */\n              @Singleton\n              public class TestClass4 {}\n\n              @Scope\n              @interface CustomScope {}\n\n              /** A concrete class that has a custom annotation. */\n              @CustomScope\n              public class ClassWithCustomScope {}\n\n              @Component\n              @Singleton\n              interface DaggerInterfaceComponent {\n                @Subcomponent\n                @CustomScope\n                abstract class DaggerAbstractClassSubcomponent {}\n              }\n            }\\"
    }
  ]
}