{
  "name": "JavaDurationGetSecondsGetNano",
  "language": "java",
  "description": "duration.getNano() only accesses the underlying nanosecond adjustment from the whole second.",
  "example": null,
  "cwe": null,
  "cwe-description": null,
  "checker-language": "java",
  "loc": 63,
  "branches": 3,
  "apis": 1,
  "test": [
    {
      "description": "getSecondsWithGetNanos",
      "expected-problems": null,
      "expected-linenumbers": [
        34
      ],
      "code": "package test;\n\n            import java.time.Duration;\n\n            public class TestCase {\n              public static void foo(Duration duration) {\n                long seconds = duration.getSeconds();\n                int nanos = duration.getNano();\n              }\n            }"
    },
    {
      "description": "getSecondsWithGetNanosInReturnType",
      "expected-problems": null,
      "expected-linenumbers": [
        54
      ],
      "code": "package test;\n\n            import com.google.common.collect.ImmutableMap;\n            import java.time.Duration;\n\n            public class TestCase {\n              public static int foo(Duration duration) {\n                // BUG: Diagnostic contains: JavaDurationGetSecondsGetNano\n                return duration.getNano();\n              }\n            }"
    },
    {
      "description": "getSecondsWithGetNanosInReturnType2",
      "expected-problems": null,
      "expected-linenumbers": [
        75
      ],
      "code": "package test;\n\nimport com.google.common.collect.ImmutableMap;\nimport java.time.Duration;\n\npublic class TestCase {\n  public static ImmutableMap<String, Object> foo(Duration duration) {\n    return ImmutableMap.of(\"seconds\", duration.getSeconds(), \"nanos\", duration.getNano());\n  }\n}"
    },
    {
      "description": "getSecondsWithGetNanosDifferentScope",
      "expected-problems": null,
      "expected-linenumbers": [
        95
      ],
      "code": "package test;\n\n            import java.time.Duration;\n\n            public class TestCase {\n              public static void foo(Duration duration) {\n                long seconds = duration.getSeconds();\n                if (true) {\n                  // BUG: Diagnostic contains: JavaDurationGetSecondsGetNano\n                  int nanos = duration.getNano();\n                }\n              }\n            }"
    },
    {
      "description": "getSecondsWithGetNanosInDifferentMethods",
      "expected-problems": null,
      "expected-linenumbers": [
        119
      ],
      "code": "package test;\n\n            import java.time.Duration;\n\n            public class TestCase {\n              public static void foo(Duration duration) {\n                long seconds = duration.getSeconds();\n              }\n\n              public static void bar(Duration duration) {\n                // BUG: Diagnostic contains: JavaDurationGetSecondsGetNano\n                int nanos = duration.getNano();\n              }\n            }"
    },
    {
      "description": "getSecondsOnly",
      "expected-problems": null,
      "expected-linenumbers": [
        143
      ],
      "code": "package test;\n\n            import java.time.Duration;\n\n            public class TestCase {\n              public static void foo(Duration duration) {\n                long seconds = duration.getSeconds();\n              }\n            }"
    },
    {
      "description": "getNanoOnly",
      "expected-problems": null,
      "expected-linenumbers": [
        162
      ],
      "code": "package test;\n\n            import java.time.Duration;\n\n            public class TestCase {\n              public static void foo(Duration duration) {\n                // BUG: Diagnostic contains: JavaDurationGetSecondsGetNano\n                int nanos = duration.getNano();\n              }\n            }"
    },
    {
      "description": "getNanoInMethodGetSecondsInClassVariable",
      "expected-problems": null,
      "expected-linenumbers": [
        182
      ],
      "code": "package test;\n\n            import java.time.Duration;\n\n            public class TestCase {\n              private static final Duration DURATION = Duration.ZERO;\n              private static final long seconds = DURATION.getSeconds();\n\n              public static void foo() {\n                // BUG: Diagnostic contains: JavaDurationGetSecondsGetNano\n                int nanos = DURATION.getNano();\n              }\n            }"
    },
    {
      "description": "getSecondsOnlyInStaticBlock",
      "expected-problems": null,
      "expected-linenumbers": [
        205
      ],
      "code": "package test;\n\n            import java.time.Duration;\n\n            public class TestCase {\n              static {\n                long seconds = Duration.ZERO.getSeconds();\n              }\n            }"
    },
    {
      "description": "getNanoOnlyInStaticBlock",
      "expected-problems": null,
      "expected-linenumbers": [
        224
      ],
      "code": "package test;\n\n            import java.time.Duration;\n\n            public class TestCase {\n              static {\n                // BUG: Diagnostic contains: JavaDurationGetSecondsGetNano\n                int nanos = Duration.ZERO.getNano();\n              }\n            }"
    },
    {
      "description": "getSecondsOnlyInClassBlock",
      "expected-problems": null,
      "expected-linenumbers": [
        244
      ],
      "code": "package test;\n\n            import java.time.Duration;\n\n            public class TestCase {\n              private final long seconds = Duration.ZERO.getSeconds();\n              private final int nanos = Duration.ZERO.getNano();\n            }"
    },
    {
      "description": "getNanoOnlyInClassBlock",
      "expected-problems": null,
      "expected-linenumbers": [
        262
      ],
      "code": "package test;\n\n            import java.time.Duration;\n\n            public class TestCase {\n              // BUG: Diagnostic contains: JavaDurationGetSecondsGetNano\n              private final int nanos = Duration.ZERO.getNano();\n            }"
    },
    {
      "description": "getNanoInInnerClassGetSecondsInMethod",
      "expected-problems": null,
      "expected-linenumbers": [
        280
      ],
      "code": "package test;\n\n            import java.time.Duration;\n\n            public class TestCase {\n              private static final Duration DURATION = Duration.ZERO;\n\n              public static void foo() {\n                long seconds = DURATION.getSeconds();\n                Object obj =\n                    new Object() {\n                      @Override\n                      public String toString() {\n                        // BUG: Diagnostic contains: JavaDurationGetSecondsGetNano\n                        return String.valueOf(DURATION.getNano());\n                      }\n                    };\n              }\n            }"
    },
    {
      "description": "getNanoInInnerClassGetSecondsInClassVariable",
      "expected-problems": null,
      "expected-linenumbers": [
        309
      ],
      "code": "package test;\n\n            import java.time.Duration;\n\n            public class TestCase {\n              Duration DURATION = Duration.ZERO;\n              long seconds = DURATION.getSeconds();\n              Object obj =\n                  new Object() {\n                    // BUG: Diagnostic contains: JavaDurationGetSecondsGetNano\n                    long nanos = DURATION.getNano();\n                  };\n            }"
    },
    {
      "description": "getNanoInMethodGetSecondsInLambda",
      "expected-problems": null,
      "expected-linenumbers": [
        332
      ],
      "code": "package test;\n\n            import java.time.Duration;\n\n            public class TestCase {\n              private static final Duration DURATION = Duration.ZERO;\n\n              public static void foo() {\n                Runnable r = () -> DURATION.getSeconds();\n                // BUG: Diagnostic contains: JavaDurationGetSecondsGetNano\n                int nanos = DURATION.getNano();\n              }\n            }"
    },
    {
      "description": "getSecondsInLambda",
      "expected-problems": null,
      "expected-linenumbers": [
        355
      ],
      "code": "package test;\n\n            import java.time.Duration;\n            import java.util.function.Supplier;\n\n            public class TestCase {\n              private static final Duration DURATION = Duration.ZERO;\n\n              public void foo() {\n                doSomething(() -> DURATION.getSeconds());\n                // BUG: Diagnostic contains: JavaDurationGetSecondsGetNano\n                int nanos = DURATION.getNano();\n              }\n\n              public void doSomething(Supplier<Long> supplier) {}\n            }"
    },
    {
      "description": "getNanoInLambda",
      "expected-problems": null,
      "expected-linenumbers": [
        381
      ],
      "code": "package test;\n\n            import java.time.Duration;\n\n            public class TestCase {\n              private static final Duration DURATION = Duration.ZERO;\n\n              public static void foo() {\n                // BUG: Diagnostic contains: JavaDurationGetSecondsGetNano\n                Runnable r = () -> DURATION.getNano();\n                long seconds = DURATION.getSeconds();\n              }\n            }"
    },
    {
      "description": "bothUsedWithinALambda",
      "expected-problems": null,
      "expected-linenumbers": [
        404
      ],
      "code": "package test;\n\nimport com.google.common.collect.ImmutableMap;\nimport java.time.Duration;\nimport java.util.function.Supplier;\n\npublic class TestCase {\n  public static Supplier<ImmutableMap<String, Object>> foo(Duration duration) {\n    return () -> ImmutableMap.of(\"seconds\", duration.getSeconds(), \"nanos\", duration.getNano());\n  }\n}"
    }
  ]
}