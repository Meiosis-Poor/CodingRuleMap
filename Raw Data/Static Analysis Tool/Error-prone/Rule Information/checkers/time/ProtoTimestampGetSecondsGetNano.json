{
  "name": "ProtoTimestampGetSecondsGetNano",
  "language": "java",
  "description": "getNanos() only accesses the underlying nanosecond-adjustment of the instant.",
  "example": null,
  "cwe": null,
  "cwe-description": null,
  "checker-language": "java",
  "loc": 57,
  "branches": 3,
  "apis": 1,
  "test": [
    {
      "description": "getSecondsWithGetNanos",
      "expected-problems": null,
      "expected-linenumbers": [
        36
      ],
      "code": "package test;\n\n            import com.google.protobuf.Timestamp;\n\n            public class TestCase {\n              public static void foo(Timestamp timestamp) {\n                long seconds = timestamp.getSeconds();\n                int nanos = timestamp.getNanos();\n              }\n            }"
    },
    {
      "description": "getSecondsWithGetNanosInReturnType",
      "expected-problems": null,
      "expected-linenumbers": [
        56
      ],
      "code": "package test;\n\n            import com.google.common.collect.ImmutableMap;\n            import com.google.protobuf.Timestamp;\n\n            public class TestCase {\n              public static int foo(Timestamp timestamp) {\n                // BUG: Diagnostic contains: ProtoTimestampGetSecondsGetNano\n                return timestamp.getNanos();\n              }\n            }"
    },
    {
      "description": "getSecondsWithGetNanosInReturnType2",
      "expected-problems": null,
      "expected-linenumbers": [
        77
      ],
      "code": "package test;\n\nimport com.google.common.collect.ImmutableMap;\nimport com.google.protobuf.Timestamp;\n\npublic class TestCase {\n  public static ImmutableMap<String, Object> foo(Timestamp timestamp) {\n    return ImmutableMap.of(\"seconds\", timestamp.getSeconds(), \"nanos\", timestamp.getNanos());\n  }\n}"
    },
    {
      "description": "getSecondsWithGetNanosDifferentScope",
      "expected-problems": null,
      "expected-linenumbers": [
        97
      ],
      "code": "package test;\n\n            import com.google.protobuf.Timestamp;\n\n            public class TestCase {\n              public static void foo(Timestamp timestamp) {\n                long seconds = timestamp.getSeconds();\n                if (true) {\n                  // BUG: Diagnostic contains: ProtoTimestampGetSecondsGetNano\n                  int nanos = timestamp.getNanos();\n                }\n              }\n            }"
    },
    {
      "description": "getSecondsWithGetNanosInDifferentMethods",
      "expected-problems": null,
      "expected-linenumbers": [
        121
      ],
      "code": "package test;\n\n            import com.google.protobuf.Timestamp;\n\n            public class TestCase {\n              public static void foo(Timestamp timestamp) {\n                long seconds = timestamp.getSeconds();\n              }\n\n              public static void bar(Timestamp timestamp) {\n                // BUG: Diagnostic contains: ProtoTimestampGetSecondsGetNano\n                int nanos = timestamp.getNanos();\n              }\n            }"
    },
    {
      "description": "getSecondsOnly",
      "expected-problems": null,
      "expected-linenumbers": [
        145
      ],
      "code": "package test;\n\n            import com.google.protobuf.Timestamp;\n\n            public class TestCase {\n              public static void foo(Timestamp timestamp) {\n                long seconds = timestamp.getSeconds();\n              }\n            }"
    },
    {
      "description": "getNanoOnly",
      "expected-problems": null,
      "expected-linenumbers": [
        164
      ],
      "code": "package test;\n\n            import com.google.protobuf.Timestamp;\n\n            public class TestCase {\n              public static void foo(Timestamp timestamp) {\n                // BUG: Diagnostic contains: ProtoTimestampGetSecondsGetNano\n                int nanos = timestamp.getNanos();\n              }\n            }"
    },
    {
      "description": "getNanoInMethodGetSecondsInClassVariable",
      "expected-problems": null,
      "expected-linenumbers": [
        184
      ],
      "code": "package test;\n\n            import com.google.protobuf.Timestamp;\n\n            public class TestCase {\n              private static final Timestamp TIMESTAMP = Timestamp.getDefaultInstance();\n              private static final long seconds = TIMESTAMP.getSeconds();\n\n              public static void foo() {\n                // BUG: Diagnostic contains: ProtoTimestampGetSecondsGetNano\n                int nanos = TIMESTAMP.getNanos();\n              }\n            }"
    },
    {
      "description": "getSecondsOnlyInStaticBlock",
      "expected-problems": null,
      "expected-linenumbers": [
        207
      ],
      "code": "package test;\n\n            import com.google.protobuf.Timestamp;\n\n            public class TestCase {\n              static {\n                long seconds = Timestamp.getDefaultInstance().getSeconds();\n              }\n            }"
    },
    {
      "description": "getNanoOnlyInStaticBlock",
      "expected-problems": null,
      "expected-linenumbers": [
        226
      ],
      "code": "package test;\n\n            import com.google.protobuf.Timestamp;\n\n            public class TestCase {\n              static {\n                // BUG: Diagnostic contains: ProtoTimestampGetSecondsGetNano\n                int nanos = Timestamp.getDefaultInstance().getNanos();\n              }\n            }"
    },
    {
      "description": "getSecondsOnlyInClassBlock",
      "expected-problems": null,
      "expected-linenumbers": [
        246
      ],
      "code": "package test;\n\n            import com.google.protobuf.Timestamp;\n\n            public class TestCase {\n              private final Timestamp TIMESTAMP = Timestamp.getDefaultInstance();\n              private final long seconds = TIMESTAMP.getSeconds();\n              private final int nanos = TIMESTAMP.getNanos();\n            }"
    },
    {
      "description": "getNanoOnlyInClassBlock",
      "expected-problems": null,
      "expected-linenumbers": [
        265
      ],
      "code": "package test;\n\n            import com.google.protobuf.Timestamp;\n\n            public class TestCase {\n              // BUG: Diagnostic contains: ProtoTimestampGetSecondsGetNano\n              private final int nanos = Timestamp.getDefaultInstance().getNanos();\n            }"
    },
    {
      "description": "getNanoInInnerClassGetSecondsInMethod",
      "expected-problems": null,
      "expected-linenumbers": [
        283
      ],
      "code": "package test;\n\n            import com.google.protobuf.Timestamp;\n\n            public class TestCase {\n              private static final Timestamp TIMESTAMP = Timestamp.getDefaultInstance();\n\n              public static void foo() {\n                long seconds = TIMESTAMP.getSeconds();\n                Object obj =\n                    new Object() {\n                      @Override\n                      public String toString() {\n                        // BUG: Diagnostic contains: ProtoTimestampGetSecondsGetNano\n                        return String.valueOf(TIMESTAMP.getNanos());\n                      }\n                    };\n              }\n            }"
    },
    {
      "description": "getNanoInInnerClassGetSecondsInClassVariable",
      "expected-problems": null,
      "expected-linenumbers": [
        312
      ],
      "code": "package test;\n\n            import com.google.protobuf.Timestamp;\n\n            public class TestCase {\n              Timestamp TIMESTAMP = Timestamp.getDefaultInstance();\n              long seconds = TIMESTAMP.getSeconds();\n              Object obj =\n                  new Object() {\n                    // BUG: Diagnostic contains: ProtoTimestampGetSecondsGetNano\n                    long nanos = TIMESTAMP.getNanos();\n                  };\n            }"
    },
    {
      "description": "getNanoInMethodGetSecondsInLambda",
      "expected-problems": null,
      "expected-linenumbers": [
        335
      ],
      "code": "package test;\n\n            import com.google.protobuf.Timestamp;\n\n            public class TestCase {\n              private static final Timestamp TIMESTAMP = Timestamp.getDefaultInstance();\n\n              public static void foo() {\n                Runnable r = () -> TIMESTAMP.getSeconds();\n                // BUG: Diagnostic contains: ProtoTimestampGetSecondsGetNano\n                int nanos = TIMESTAMP.getNanos();\n              }\n            }"
    },
    {
      "description": "getSecondsInLambda",
      "expected-problems": null,
      "expected-linenumbers": [
        358
      ],
      "code": "package test;\n\n            import com.google.protobuf.Timestamp;\n            import java.util.function.Supplier;\n\n            public class TestCase {\n              private static final Timestamp TIMESTAMP = Timestamp.getDefaultInstance();\n\n              public void foo() {\n                doSomething(() -> TIMESTAMP.getSeconds());\n                // BUG: Diagnostic contains: ProtoTimestampGetSecondsGetNano\n                int nanos = TIMESTAMP.getNanos();\n              }\n\n              public void doSomething(Supplier<Long> supplier) {}\n            }"
    },
    {
      "description": "getNanoInLambda",
      "expected-problems": null,
      "expected-linenumbers": [
        384
      ],
      "code": "package test;\n\n            import com.google.protobuf.Timestamp;\n\n            public class TestCase {\n              private static final Timestamp TIMESTAMP = Timestamp.getDefaultInstance();\n\n              public static void foo() {\n                // BUG: Diagnostic contains: ProtoTimestampGetSecondsGetNano\n                Runnable r = () -> TIMESTAMP.getNanos();\n                long seconds = TIMESTAMP.getSeconds();\n              }\n            }"
    },
    {
      "description": "getMessageGetSecondsGetNanos",
      "expected-problems": null,
      "expected-linenumbers": [
        407
      ],
      "code": "package test;\n\n            import com.google.errorprone.bugpatterns.time.Test.DurationTimestamp;\n\n            public class TestCase {\n              public static void foo(DurationTimestamp durationTimestamp) {\n                long seconds = durationTimestamp.getTestTimestamp().getSeconds();\n                int nanos = durationTimestamp.getTestTimestamp().getNanos();\n              }\n            }"
    }
  ]
}