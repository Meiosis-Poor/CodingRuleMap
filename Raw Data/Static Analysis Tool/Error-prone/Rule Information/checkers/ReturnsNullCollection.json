{
  "name": "ReturnsNullCollection",
  "language": "java",
  "description": "Method has a collection return type and returns {@code null} in some cases but does not annotate the method as @Nullable. See Effective Java 3rd Edition Item 54.",
  "example": null,
  "cwe": null,
  "cwe-description": null,
  "checker-language": "java",
  "loc": 61,
  "branches": 1,
  "apis": 2,
  "test": [
    {
      "description": "positive",
      "expected-problems": null,
      "expected-linenumbers": [
        31
      ],
      "code": "import com.google.common.collect.Multimap;\n            import com.google.common.collect.Table;\n            import java.util.Collection;\n            import java.util.ArrayList;\n            import java.util.List;\n            import java.util.Map;\n\n            class Test {\n              Collection<String> methodReturnsNullCollection() {\n                // BUG: Diagnostic contains: ReturnsNullCollection\n                return null;\n              }\n\n              List<String> methodReturnsNullList() {\n                // BUG: Diagnostic contains: ReturnsNullCollection\n                return null;\n              }\n\n              Map<String, String> methodReturnsNullMap() {\n                // BUG: Diagnostic contains: ReturnsNullCollection\n                return null;\n              }\n\n              Multimap<String, String> methodReturnsNullMultimap() {\n                // BUG: Diagnostic contains: ReturnsNullCollection\n                return null;\n              }\n\n              Table<String, String, String> methodReturnsNullTable() {\n                // BUG: Diagnostic contains: ReturnsNullCollection\n                return null;\n              }\n\n              List<String> methodReturnsNullListConditionally(boolean foo) {\n                if (foo) {\n                  // BUG: Diagnostic contains: ReturnsNullCollection\n                  return null;\n                }\n                return new ArrayList();\n              }\n            }"
    },
    {
      "description": "negative",
      "expected-problems": null,
      "expected-linenumbers": [
        82
      ],
      "code": "import java.util.Collection;\n            import java.util.HashMap;\n            import java.util.List;\n            import java.util.Map;\n            import javax.annotation.Nullable;\n\n            class Test {\n              @Nullable\n              Collection<String> methodReturnsNullCollection() {\n                return null;\n              }\n\n              @Nullable\n              List<String> methodReturnsNullList() {\n                return null;\n              }\n\n              @Nullable\n              Map<String, String> methodReturnsNullMap() {\n                return null;\n              }\n\n              @Nullable\n              HashMap<String, String> methodReturnsNullHashMap() {\n                return null;\n              }\n            }"
    }
  ]
}